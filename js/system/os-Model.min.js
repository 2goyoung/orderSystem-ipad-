orderSystem.Model.empty=Backbone.Model.extend({}),orderSystem.Model.login=Backbone.Model.extend({url:orderSystem.urlRouter.data.login,initialize:function(){this.on("invalid",function(n,t){orderSystem.alert(t)});this.on("request",function(){ospage.setLoadingText("登录验证中...").show()});this.on("error",this.error)},validate:function(n){return n.username==""?n.password=="d41d8cd98f00b204e9800998ecf8427e"?"用户名和密码不能为空":"用户名不能为空":n.password=="d41d8cd98f00b204e9800998ecf8427e"?"密码不能为空":void 0},error:function(){ospage.loading.hide()}}),orderSystem.Model.logout=Backbone.Model.extend({url:orderSystem.urlRouter.data.logout,initialize:function(){this.on("error",this.error)},error:function(){ospage.loading.hide()}}),orderSystem.Model.teaItem=Backbone.Model.extend({defaults:{ordNum:0,total:0},initialize:function(){_.bind(this,"changePanelOrder");this.on("change",this.changeCollection)},changeCollection:function(){var n=this.attributes,t=orderSystem.datas.order.teaList;this.attributes.ordNum==0?t.remove(t.findWhere({dishId:n.dishId})):this.previous("ordNum")==0?(t.add(this),t.findWhere({dishId:n.dishId}).set({ordNum:n.ordNum,saleId:n.salePrices[0].saleId,price:n.salePrices[0].price,saleUnitName:n.salePrices[0].saleUnitName},{silent:!0})):t.findWhere({dishId:n.dishId}).set({ordNum:n.ordNum})}}),orderSystem.Model.createOrder=Backbone.Model.extend({url:orderSystem.urlRouter.data.createOrder}),orderSystem.Model.orderTeaList=Backbone.Model.extend({url:orderSystem.urlRouter.data.saveDish,defaults:{}}),orderSystem.Model.dinCatItem=Backbone.Model.extend({}),orderSystem.Model.dinList=Backbone.Model.extend({defaults:{ordNum:0,total:0},initialize:function(){_.bind(this,"changePanelOrder");this.on("change",this.changeCollection)},changeCollection:function(){var n=this.attributes,t=orderSystem.datas.order.dinList,i,r,u;typeof n.salePrices=="undefined"?(i=n.price,r=n.saleUnitName,u=n.saleId):n.salePrices.length==1?(i=n.salePrices[0].price,r=n.salePrices[0].saleUnitName,u=n.salePrices[0].saleId):_.each(n.salePrices,function(n){n.saleType=="5"&&(i=n.price,r=n.saleUnitName,u=n.saleId)}),this.attributes.ordNum==0?t.remove(t.findWhere({dishId:n.dishId,state:1})):this.previous("ordNum")==0?(t.add(this),t.at(t.length-1).set({ordNum:n.ordNum,price:i,state:1,stateName:"未下单",saleUnitName:r,saleId:u},{silent:!0})):t.findWhere({dishId:n.dishId,state:1}).set({ordNum:n.ordNum})},toJsonList:function(){var n=new orderSystem.Collection.empty;return n.add(new orderSystem.Model.empty({dishId:this.attributes.dishId,saleId:this.attributes.saleId,ordNum:this.attributes.ordNum})),JSON.stringify(n)}}),orderSystem.Model.orderDinList=Backbone.Model.extend({url:orderSystem.urlRouter.data.saveDish,defaults:{}}),orderSystem.Model.orderDin=Backbone.Model.extend({url:orderSystem.urlRouter.data.saveDish}),orderSystem.Model.orderCancelDin=Backbone.Model.extend({url:orderSystem.urlRouter.data.cancelDish});
//@ sourceMappingURL=os-Model.min.js.map